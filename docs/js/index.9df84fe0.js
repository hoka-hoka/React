(function(e){function t(t){for(var a,o,i=t[0],l=t[1],u=t[2],f=0,p=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);s&&s(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={index:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("ed12")},"0ab5":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);n("bd92");function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){l()(n,e);var t=m(n);function n(e){var a;r()(this,n),a=t.call(this,e),a.changeActive=function(){a.setState((function(e){var t=e.active;return{active:!t}}))};var c=a.props.active;return a.state={active:c||!1},a}return o()(n,[{key:"componentDidUpdate",value:function(){var e=this.state.active,t=this.props,n=t.bubling,a=t.callback;n&&a(e)}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.extClass,a=e.idFor;return d.a.createElement("div",{className:"check-box"},d.a.createElement("input",{id:a,className:"check-box__field check-box__field_hiden",type:"checkbox",tabIndex:"-1",onClick:this.changeActive}),d.a.createElement("label",{className:"check-box__lab".concat(null!==n&&void 0!==n?n:""),htmlFor:a},t))}}]),n}(v["Component"])},1138:function(e,t){e.exports=vendor_lib},"219e":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){l()(n,e);var t=m(n);function n(e){var a;return r()(this,n),a=t.call(this,e),a.state={},a}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.titleName;e.valid;return d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"title"},n),t)}}]),n}(v["Component"])},2453:function(e,t,n){},2721:function(e,t,n){},"320c":function(e,t,n){e.exports=n("1138")(3)},"3ca4":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);n("2453");function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=function(t){l()(a,t);var n=m(a);function a(t){var c;r()(this,a),c=n.call(this,t),c.handlerClick=function(e){var t=e.target;c.setState((function(e){var t=e.active;return{active:!t}})),c.rasingFocus(t)},c.handlerKeyDown=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;[32,13].includes(t)&&c.setState((function(e){var t=e.active;return{active:!t}}))},c.handlerBlur=function(){setTimeout((function(){var t=e(document.activeElement),n=e(c.par.current);n.is(t)||n.find(t).length||c.setState({active:!1})}))},c.selectOption=function(e,t){e.stopPropagation();var n=e.target,a=e.type;if("keydown"===a){var r=e.keyCode||e.charCode;if(![32,13].includes(r))return}c.setState({active:!1,name:n.innerHTML,val:++t})};var o=c.props,i=o.optNames,l=void 0===i?[]:i,u=o.defVal,s=void 0===u?0:u;return c.state={active:!1,name:l.length?l[s-1]:"",val:s},c.par=Object(v["createRef"])(),c}return o()(a,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.val,a=this.props.callback;t.val!=n&&a(n)}},{key:"rasingFocus",value:function(t){var n=e(t).parent();setTimeout((function(){n.focus()}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,a=t.name,r=this.props,c=r.optNames,o=void 0===c?[]:c,i=r.extClass;return d.a.createElement("div",{ref:this.par,className:"drop-list".concat(null!==i&&void 0!==i?i:"").concat(n?" drop-list_active":""),tabIndex:"0",onBlur:this.handlerBlur,onKeyDown:this.handlerKeyDown,role:"button","aria-expanded":n,"aria-haspopup":"true"},d.a.createElement("input",{className:"drop-list__field",type:"text",onClick:this.handlerClick,placeholder:"",tabIndex:"-1",value:a||"",readOnly:!0,"aria-hidden":!0}),d.a.createElement("button",{className:"drop-list__btn",type:"button",onClick:this.handlerClick,tabIndex:"-1","aria-hidden":!0}),n&&d.a.createElement("div",{className:"drop-list__panel"},o.map((function(t,n){return d.a.createElement("div",{className:"drop-list__item",onClick:function(t){return e.selectOption(t,n)},onKeyDown:function(t){return e.selectOption(t,n)},key:n,tabIndex:"0",role:"button"},t)}))))}}]),a}(v["Component"])}).call(this,n("c5ec"))},"3dd6":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v),m=n("be6e");function h(e){var t=b();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){l()(n,e);var t=h(n);function n(e){var a;return r()(this,n),a=t.call(this,e),a.state={},a}return o()(n,[{key:"render",value:function(){var e=this.props.handler;return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"name raised"},m["b"][m["c"].about],":"),d.a.createElement("textarea",{className:"f-text wide fTextArea",rows:"5",onBlur:e}))}}]),n}(v["Component"])},4833:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n("448a"),r=n.n(a),c=n("9523"),o=n.n(c),i=n("970b"),l=n.n(i),u=n("5bc3"),s=n.n(u),f=n("ed6d"),p=n.n(f),v=n("6b58"),d=n.n(v),m=n("36c6"),h=n.n(m),b=n("ab5b"),y=n.n(b),g=n("0d16"),k=n("be6e"),D=n("3ca4"),O=n("dc5b"),E=n("c212"),x=n("219e");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=j();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C=function(t){p()(a,t);var n=R(a);function a(t){var c;return l()(this,a),c=n.call(this,t),c.validCheck=function(e,t,n){var a,r=c.props.integData,o=function(t){var n=t.test(e);return n},i=r.types.contr==t&&"value"==n;return a=i?o(/(https?:\/\/[^\s]+)/g):!!e,!a&&(c.errors.current=!0),a},c.setDevData=function(e,t,n){var a,r=c.state.devData,i=c.props.integData,l="type"===t?i.devices[e].titles:r[n].titles;["value","activeID"].includes(t)&&(e=P(P({},r[n][t]),{},{val:e})),c.state.devData[n]=P(P({},c.state.devData[n]),{},(a={},o()(a,t,e),o()(a,"titles",l),a)),c.forceUpdate()},c.addDevLine=function(e){c.handlerClick(e);var t=c.props.integData,n=c.state.devType;c.setState((function(e){var a=e.devData,c=e.amount;return{devData:[].concat(r()(a),[{id:c,type:n,titles:[t.types.phone,t.types.contr].includes(n)?t.devices[n].titles:["Тип"]}]),devType:"-1",amount:c+1}}))},c.delDeviceLine=function(t,n){c.handlerClick(t);var a=c.state.devData,r=c.props.integData,o=a.splice(n,1)[0];if(e(document).data("no-err-close",1),c.setState({del:{index:n,line:o}}),[r.types.phone,r.types.contr].includes(o.type)){var i=r.devices[o.type].name;c.showNotice("".concat(k["b"][k["c"].device]," ").concat(i," ").concat(k["b"][k["c"].del]))}},c.phoneHandler=function(e,t){var n=e.target,a={mask:"+{7}(000)000-00-00",lazy:!1,placeholderChar:"_"},r=Object(g["a"])(n,a);r.on("accept",(function(e){var n=e.target;n&&c.setDevData(n.value,"value",t)}))},c.devLine=function(e,t){var n=c.props.integData,a=function(){var a=c.state.devData,r=[];if(e==n.types.phone){var o=a[t].value;r.push(y.a.createElement(O["a"],{defVal:(null===o||void 0===o?void 0:o.val)||"",inpType:"tel",focusHandler:function(e){return c.phoneHandler(e,t)},valid:null===o||void 0===o?void 0:o.valid}))}else if(e==n.types.contr){var i=a[t].value;r.push(y.a.createElement(O["a"],{defVal:null===i||void 0===i?void 0:i.val,extClass:" url",inpType:"url",blurHandler:function(e){return c.setDevData(e,"value",t)},valid:null===i||void 0===i?void 0:i.valid}))}if(console.log(n.types.phone,n.types.contr,e),[n.types.phone,n.types.contr].includes(e)){var l=a[t].activeID;r.push(y.a.createElement(O["a"],{inpType:"number",defVal:null===l||void 0===l?void 0:l.val,blurHandler:function(e){return c.setDevData(parseFloat(e),"activeID",t)},valid:null===l||void 0===l?void 0:l.valid}))}return r},o=[y.a.createElement(D["a"],{optNames:n.devices.map((function(e){return e.name})),callback:function(e){c.state.devData[t].value={},c.state.devData[t].activeID={},c.setDevData(e-1,"type",t)}})].concat(r()(a(e,t)));return o},c.state={devType:"-1",devData:[{id:0,type:"-1",titles:["Тип"]}],amount:1},c.errors=Object(b["createRef"])(),c}return s()(a,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.del,a=this.props,r=a.applyAction,c=a.notice.restore,o=a.updateState;r&&e.applyAction!=r&&(this.errors.current=!1,this.setState((function(e){var n=e.devData;return{devData:n.map((function(e,a){var r,c;return a==n.length-1?e:P(P({},e),{},{activeID:P(P({},e.activeID),{},{valid:t.validCheck(null===(r=e.activeID)||void 0===r?void 0:r.val,e.type)||function(){return t.showNotice(k["b"][k["c"].acttive],!1),!1}()}),value:P(P({},e.value),{},{valid:t.validCheck(null===(c=e.value)||void 0===c?void 0:c.val,e.type,"value")})})}))}}),(function(){t.bubblingData()}))),c&&e.notice.restore!=c&&(this.state.devData.splice(n.index,0,n.line),o({notice:{restore:!1}}))}},{key:"bubblingData",value:function(){var e=this,t=this.state.devData,n=function(){var t=e.props.updateState;t((function(e){var t=e.sends;return{sends:P(P({},t),{},{devices:a})}}))},a=[];this.errors.current||(a=t.filter((function(e,n){return-1!=e.type&&n!=t.length-1})),a=a.map((function(e){var t=e.activeID,n=e.type,a=e.value;return{activeID:t.val,type:+n+1,value:a.val}}))),n()}},{key:"handlerClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"showNotice",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.updateState;n({notice:{popupText:e,btn:t}})}},{key:"render",value:function(){var e=this,t=this.state.devData,n=this.props,a=n.updateState,r=n.applyAction;return y.a.createElement("div",{className:"details"},y.a.createElement("div",{className:"item top"},y.a.createElement(E["a"],{updateState:a,applyAction:r})),y.a.createElement("div",{className:"item"},y.a.createElement("div",{className:"name raised"},k["b"][k["c"].devList],":"),y.a.createElement("div",{className:"type"},t.map((function(n,a){return y.a.createElement("div",{key:n.id,className:"row"},e.devLine(n.type,a).map((function(e,t){return y.a.createElement(x["a"],{key:"".concat(n.id,"|").concat(t),titleName:n.titles[t],field:e})})),a!=t.length-1?y.a.createElement("a",{key:n.id,href:"#",draggable:"false",className:"b-box b-dell",onClick:function(t){return e.delDeviceLine(t,a)}},y.a.createElement("svg",{viewBox:"0 0 48 48"},y.a.createElement("use",{xlinkHref:"#cross"}))):y.a.createElement("a",{key:n.id,href:"#",className:"link-new l-green",onClick:e.addDevLine,draggable:"false"},"+"))})))))}}]),a}(b["Component"])}).call(this,n("c5ec"))},"74e1":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return A}));var a=n("a559"),r=n.n(a),c=n("448a"),o=n.n(c),i=n("9523"),l=n.n(i),u=n("c973"),s=n.n(u),f=n("970b"),p=n.n(f),v=n("5bc3"),d=n.n(v),m=n("ed6d"),h=n.n(m),b=n("6b58"),y=n.n(b),g=n("36c6"),k=n.n(g),D=n("a34a"),O=n.n(D),E=n("ab5b"),x=n.n(E),w=(n("2721"),n("f242")),P=n("be6e"),R=n("3ca4"),j=n("81d3"),C=n("3dd6"),N=n("dc5b"),S=n("b846"),T=n("886e");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=L();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var A=function(t){h()(a,t);var n=F(a);function a(t){var r;return p()(this,a),r=n.call(this,t),r.getData=function(){var e=s()(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(w["a"])(t),e.next=3,fetch("/api".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(a=e.sent,a.ok){e.next=7;break}return r.setState({error:!0}),e.abrupt("return",new Error("Ответ на запрос пустой"));case 7:return e.abrupt("return",a.json());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.changeType=function(e){var t=r.state.type;e!=t&&(r.foundInteg.current=r.getIntegByType(e),r.setState({type:e}))},r.applyHandler=function(t){r.clickHanler(t),e(document).data("no-err-close",1),r.setState({applyAction:!0})},r.updateState=function(e){return r.setState(e)},r.state={applyAction:!1,valid:!0,type:14,notice:{popupText:"",restore:!1},sends:{},error:!1},r.foundInteg=Object(E["createRef"])(),r}return d()(a,[{key:"componentDidMount",value:function(){var e=this.state.type;this.foundInteg.current=this.getIntegByType(e),this.forceUpdate()}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.state,r=a.applyAction,c=a.sends;r&&t.applyAction!=r&&(this.setState({valid:this.validCheck(null===c||void 0===c?void 0:c.name),applyAction:!1}),setTimeout((function(){n.checkFixes()&&n.sendingReqInteg()})))}},{key:"checkFixes",value:function(){var e,t=this.state,n=t.valid,a=t.sends,r=this.foundInteg.current;if(!r)return!1;var c=n&&(null===(e=a[r.send])||void 0===e?void 0:e.length);return c}},{key:"sendingReqInteg",value:function(){var e=this.state,t=e.sends,n=e.type,a=I({type:n},t);this.getData("/ParseControllers",a)}},{key:"createIntegComp",value:function(e){var t=this,n=null===e||void 0===e?void 0:e.alias;if(!n)return!1;var a=Object.assign.apply(Object,o()(e.props.map((function(e){return l()({},e,t.state[e])}))));return x.a.createElement(n,r()({},a,{integData:e.data,updateState:this.updateState}))}},{key:"getIntegByType",value:function(e){var t=P["a"].types.find((function(t){return t.value==e}));return t}},{key:"changeText",value:function(e,t){this.state.sends[t]=e,this.forceUpdate()}},{key:"clickHanler",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"validCheck",value:function(e){return!!e}},{key:"render",value:function(){var e=this,t=this.state,n=t.type,a=t.valid,r=t.notice,c=t.error,o=t.name,i=this.foundInteg.current;return x.a.createElement(x.a.Fragment,null,!c&&x.a.createElement("div",{className:"integ"},x.a.createElement("div",{className:"cont whiteForm"},x.a.createElement("div",{className:"base"},x.a.createElement("div",{className:"item"},x.a.createElement("div",{className:"name"},P["b"][P["c"].name],":"),x.a.createElement("div",{className:"wide"},x.a.createElement(N["a"],{defVal:o||"",blurHandler:function(t){e.changeText(t,"name")},valid:a}))),x.a.createElement("div",{className:"item"},x.a.createElement("div",{className:"name"},P["b"][P["c"].type],":"),x.a.createElement(R["a"],{defVal:n,extClass:" wide",optNames:P["a"].types.map((function(e){return e.name})),callback:function(t){return e.changeType(t)}})),(null===i||void 0===i?void 0:i.token)&&x.a.createElement("div",{className:"item"},x.a.createElement(j["a"],{updateState:this.updateState,getData:this.getData})),x.a.createElement("div",{className:"item"},x.a.createElement(C["a"],{handler:function(t){return e.changeText(t,"about")}}))),this.createIntegComp(i)),x.a.createElement("div",{className:"btns"},x.a.createElement("a",{className:"link-new",href:"#",onClick:this.clickHanler,draggable:"false"},P["b"][P["c"].cancel]),x.a.createElement("a",{className:"link-new blueBtn",href:"#",onClick:this.applyHandler,draggable:"false"},P["b"][P["c"].apply])),x.a.createElement(S["a"],{popupText:r.popupText,updateState:this.updateState,btn:r.btn}),x.a.createElement(T["a"],null)))}}]),a}(E["Component"])}).call(this,n("c5ec"))},"81d3":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n("9523"),r=n.n(a),c=n("c973"),o=n.n(c),i=n("970b"),l=n.n(i),u=n("5bc3"),s=n.n(u),f=n("ed6d"),p=n.n(f),v=n("6b58"),d=n.n(v),m=n("36c6"),h=n.n(m),b=n("a34a"),y=n.n(b),g=n("ab5b"),k=n.n(g),D=n("be6e");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=w();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){p()(n,e);var t=x(n);function n(e){var a;return l()(this,n),a=t.call(this,e),a.getToken=function(){var e=o()(y.a.mark((function e(t){var n,r,c,o,i,l;return y.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.props,r=n.updateState,c=n.getData,t&&a.clickHanler(t),o={newToken:1},e.next=5,c("/ParseControllers",o);case 5:i=e.sent,i instanceof Error||(r((function(e){var t,n=e.sends;return{sends:E(E({},n),{},{token:(null===(t=i.d)||void 0===t?void 0:t.token)||""})}})),a.setState({token:(null===(l=i.d)||void 0===l?void 0:l.token)||""}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={},a}return s()(n,[{key:"componentDidMount",value:function(){this.getToken()}},{key:"clickHanler",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.state.token;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"name"},D["b"][D["c"].token],":"),e&&k.a.createElement("div",{className:"token"},e),k.a.createElement("a",{className:"blink",href:"#",onClick:this.getToken,draggable:"false"},D["b"][D["c"].regenerate]))}}]),n}(g["Component"])},"886e":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=document,y=b.body,g='\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    xmlnsXlink="http://www.w3.org/1999/xlink"\n    style="display: none"\n  >\n    <symbol id="cross" viewBox="0 0 48 48">\n      <path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"></path>\n    </symbol>\n\n    <symbol id="error" viewBox="0 0 32 32" width="15" height="18">\n      <path d="M2.062 32h27.812a2 2 0 0 0 1.766-2.942l-13.876-26A1.997 1.997 0 0 0 16.002 2H16c-.738 0-1.414.406-1.762 1.056L.3 29.056a2.004 2.004 0 0 0 .046 1.972A2.005 2.005 0 0 0 2.062 32zM16 24a2 2 0 1 1-.001 4.001A2 2 0 0 1 16 24zm-2-3.968v-8a2 2 0 0 1 4 0v8a2 2 0 0 1-4 0z"></path>\n    </symbol>\n</svg>',k=function(e){l()(n,e);var t=m(n);function n(e){var a;return r()(this,n),a=t.call(this,e),a.state={},a}return o()(n,[{key:"componentDidMount",value:function(){y.insertAdjacentHTML("beforeend",g)}},{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null)}}]),n}(v["Component"])},ab5b:function(e,t,n){e.exports=n("1138")(1)},b846:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v),m=n("be6e");function h(e){var t=b();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=function(t){l()(a,t);var n=h(a);function a(t){var c;return r()(this,a),c=n.call(this,t),c.closeModal=function(){var e=c.props.updateState;e({notice:{popupText:""}})},c.restoreDelFile=function(e){var t=c.props.updateState;c.clickHanler(e),t({notice:{popupText:"",restore:!0}})},c.popupRef=function(t){e(t).show(),e.event.trigger({type:"errInit"})},c.state={},c.panel=Object(v["createRef"])(),c}return o()(a,[{key:"clickHanler",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.popupText,n=e.btn,a=void 0===n||n;return d.a.createElement(d.a.Fragment,null,t&&d.a.createElement("div",{className:"errGlobal bl",ref:this.popupRef},d.a.createElement("div",{className:"cont"},d.a.createElement("img",{alt:m["b"][m["c"].notice],className:"errGlobal-img1",src:"/img/notice.png"}),d.a.createElement("div",{className:"errGlobal-ch1"},t),a&&d.a.createElement("a",{href:"#",className:"errBtn",onClick:this.restoreDelFile,draggable:"false"},m["b"][m["c"].recover].toUpperCase()),d.a.createElement("img",{alt:m["b"][m["c"].close],className:"errGlobal-img2",src:"img/close.png",onClick:this.closeModal}))))}}]),a}(v["Component"])}).call(this,n("c5ec"))},bd92:function(e,t,n){},bdcc:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a=n("9523"),r=n.n(a),c=n("970b"),o=n.n(c),i=n("5bc3"),l=n.n(i),u=n("3c96"),s=n.n(u),f=n("ed6d"),p=n.n(f),v=n("6b58"),d=n.n(v),m=n("36c6"),h=n.n(m),b=n("ab5b"),y=n.n(b),g=n("be6e"),k=n("0ab5"),D=n("3ca4"),O=n("dc5b"),E=n("cb6f"),x=n("c212");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=j();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C=function(t){p()(a,t);var n=R(a);function a(t){var r;return o()(this,a),r=n.call(this,t),r.validCheck=function(e){var t=!!e;return!t&&(r.errors.current=!0),t},r.delDeviceLine=function(t,n){r.handlerClick(t);var a=r.props.updateState;e(document).data("no-err-close",1);var c=r.state.ftpData.splice(n,1)[0];r.state.del={index:n,line:c},a({notice:{popupText:"".concat(g["b"][g["c"].del]),restore:!1}})},r.addDevLine=function(e){r.handlerClick(e);var t=r.state.amount;r.state.ftpData.push({id:t}),r.setState((function(e){var t=e.amount;return{amount:t+=1}}))},r.state={ftpData:[{id:0}],amount:1},r.errors=Object(b["createRef"])(),r.setState=r.setState.bind(s()(r)),r}return l()(a,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.del,a=this.props.applyAction,r=this.props,c=r.notice.restore,o=r.updateState;c&&e.restore!=c&&(this.state.ftpData.splice(n.index,0,n.line),o({notice:{restore:!1}})),a&&e.applyAction!=a&&(this.errors.current=!1,this.setState((function(e){var n=e.ftpData;return{ftpData:n.map((function(e,a){var r;return a==n.length-1?e:P(P({},e),{},{activeID:P(P({},e.activeID),{},{valid:t.validCheck(null===(r=e.activeID)||void 0===r?void 0:r.val)})})}))}}),(function(){t.bubblingData()})))}},{key:"bubblingData",value:function(){var e=this,t=this.state.ftpData,n=function(){var t=e.props.updateState;t((function(e){var t=e.sends;return{sends:P(P({},t),{},{counters:a})}}))},a=[];this.errors.current||(a=t.filter((function(e,n){return n!=t.length-1})),a=a.map((function(e){var t=e.type,n=void 0===t?0:t,a=e.address,r=void 0===a?"":a,c=e.port,o=void 0===c?"":c,i=e.login,l=void 0===i?"":i,u=e.pass,s=void 0===u?"":u,f=e.certCheck,p=void 0===f?0:f;return{activeID:+e.activeID.val,mins:+e.mins,info:JSON.stringify({ftp:"".concat(+n,"|").concat(r,"|").concat(+o,"|").concat(l,"|").concat(s,"|").concat(+p),mins:+e.mins,path:e.path,del:+e.del,driver:e.driver?+e.driver+1:0,activeID:+e.activeID.val})}}))),n()}},{key:"handlerClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"setFTPData",value:function(e,t,n){var a=this.state.ftpData,r=function(){return"string"===typeof e?e.replaceAll("|",""):e},c=r(e);"activeID"==t&&(c=P(P({},a[n][t]),{},{val:c})),a[n][t]=c,this.forceUpdate()}},{key:"ftpLine",value:function(e){var t=this,n=this.state.ftpData,a=this.props.integData,r=n[e].activeID,c=[y.a.createElement(O["a"],{defValue:null===r||void 0===r?void 0:r.val,inpType:"number",extClass:" broad",blurHandler:function(n){return t.setFTPData(parseFloat(n),"activeID",e)},valid:null===r||void 0===r?void 0:r.valid}),y.a.createElement(D["a"],{optNames:a.drivers,callback:function(n){return t.setFTPData(n,"driver",e)}}),y.a.createElement(O["a"],{extClass:" broad",blurHandler:function(n){return t.setFTPData(n,"path",e)}}),y.a.createElement(O["a"],{inpType:"number",extClass:" mins",blurHandler:function(n){return t.setFTPData(n,"mins",e)}})];return c}},{key:"render",value:function(){var e=this,t=this.state.ftpData,n=this.props,a=n.updateState,r=n.applyAction,c=n.integData;return y.a.createElement("div",{className:"details"},y.a.createElement("div",{className:"item top"},y.a.createElement(x["a"],{updateState:a,applyAction:r})),y.a.createElement("div",{className:"item"},y.a.createElement("div",{className:"name raised"},g["b"][g["c"].ftp],":"),y.a.createElement("div",{className:"type"},t.map((function(n,a){return y.a.createElement(b["Fragment"],{key:n.id},y.a.createElement("div",{className:"ftp-info"},y.a.createElement(D["a"],{optNames:c.encrypt,callback:function(t){e.setFTPData(t,"type",a)}}),c.info.map((function(t,n){return y.a.createElement(b["Fragment"],{key:t.id},y.a.createElement(O["a"],{extClass:" ".concat(t.name),inpType:t.type,prompt:t.prompt,blurHandler:function(n){e.setFTPData(n,t.name,a)}}),!![1,3].includes(n)&&y.a.createElement("br",null))})),y.a.createElement(k["a"],{text:"Не проверять сертификат",bubling:r,extClass:" certCheck",idFor:"ch1",callback:function(t){e.setFTPData(t,"certCheck",a)}})),y.a.createElement("div",{className:"row"},e.ftpLine(a).map((function(e,t){return y.a.createElement(E["a"],{key:"".concat(n.id,"|").concat(t),titleName:c.titles[t],field:e})})),a!=t.length-1?y.a.createElement("a",{href:"#",draggable:"false",className:"b-box b-dell",onClick:function(t){return e.delDeviceLine(t,a)}},y.a.createElement("svg",{viewBox:"0 0 48 48"},y.a.createElement("use",{xlinkHref:"#cross"}))):y.a.createElement("a",{href:"#",className:"link-new l-green",onClick:e.addDevLine,draggable:"false"},"+")),y.a.createElement(k["a"],{text:"Удалить данные после сбора",bubling:r,extClass:" indent",idFor:"ch2",callback:function(t){e.setFTPData(t,"del",a)}}))})))))}}]),a}(b["Component"])}).call(this,n("c5ec"))},be6e:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n("bdcc"),r=n("4833"),c={types:[{name:"Контроллер сбора данных",value:"1"},{name:"Контроллер для вывода на ТВ",value:"2"},{name:"API",value:"3"},{name:"Коннектор к RELABIT",value:"10"},{name:"E-mail",value:"4"},{name:"Телефония",value:"5"},{name:"Внешний колл-центр",value:"6"},{name:"Оплаты из 1С",value:"7"},{name:"Счётчик посетителей",value:"8",alias:a["a"],props:["applyAction","notice"],data:{info:[{id:1,name:"address",type:"text",prompt:"адрес сервера"},{id:2,name:"port",type:"number",prompt:"порт"},{id:3,name:"login",type:"text",prompt:"логин"},{id:4,name:"pass",type:"text",prompt:"пароль"}],encrypt:["Без шифрования","TLS","Устаревший TLS","Устаревший SSL"],titles:["Актив","Драйвер","FTP-путь","Интервал сбора данных"],drivers:["MaxCounter","VideoCounter"]},send:"counters"},{name:"Карта объекта",value:"9"},{name:"Коннектор к мобильному приложению RELABIT MALL",value:"11"},{name:"Контроллер доступа и времени",value:"12"},{name:"Контроллер сбора банковских данных",value:"13"},{name:"Умный дом",value:"14",token:!0,alias:r["a"],props:["applyAction","notice"],data:{devices:[{name:"Телефонный звонок",titles:["Тип","Телефон","Актив"]},{name:"Контроллер Relabit",titles:["Тип","URL","Актив"]}],types:{phone:0,contr:1}},send:"devices"}]},o=["Наименование","Тип","Перегенерировать","Описание","Отмена","Применить","Токен","Уведомление","Закрыть","Восстановить","Список устройств","Устройство","удалено","Доступ разрешён","Да","Нет","FTP для сбора данных","Выберите","Неверный id актива"],i={name:0,type:1,regenerate:2,about:3,cancel:4,apply:5,token:6,notice:7,close:8,recover:9,devList:10,device:11,del:12,available:13,yes:14,no:15,ftp:16,select:17,acttive:18}},c212:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("9523"),r=n.n(a),c=n("970b"),o=n.n(c),i=n("5bc3"),l=n.n(i),u=n("ed6d"),s=n.n(u),f=n("6b58"),p=n.n(f),v=n("36c6"),d=n.n(v),m=n("ab5b"),h=n.n(m),b=n("be6e");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=D();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var O=function(e){s()(n,e);var t=k(n);function n(e){var a;return o()(this,n),a=t.call(this,e),a.accessСhange=function(e,t){a.handlerClick(e);var n=a.state.access;t!=n&&a.setState((function(e){return{access:+!e.access}}))},a.state={access:1},a}return l()(n,[{key:"bubblingData",value:function(e){var t=this.props.updateState;t((function(t){return g(g({},t),{},{sends:g(g({},t.sends),{},{access:e})})}))}},{key:"componentDidMount",value:function(){var e=this.state.access;this.bubblingData(e)}},{key:"componentDidUpdate",value:function(e){var t=this.state.access,n=this.props.applyAction;e.applyAction!=n&&this.bubblingData(t)}},{key:"handlerClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.state.access,n=[b["b"][b["c"].yes],b["b"][b["c"].no]];return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"name shifted"},b["b"][b["c"].available],":"),n.map((function(n,a){return h.a.createElement("a",{className:"b-box".concat(a==t?" active":" "),key:n,href:"#",onClick:function(t){return e.accessСhange(t,a)},draggable:"false"},n)})))}}]),n}(m["PureComponent"])},cb6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){l()(n,e);var t=m(n);function n(e){var a;return r()(this,n),a=t.call(this,e),a.state={},a}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.titleName,a=e.valid,r=void 0===a||a;return d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"title"},n),r?t:d.a.createElement("div",{className:"err"},t,d.a.createElement("svg",{width:"15",height:"18"},d.a.createElement("use",{xlinkHref:"#error"}))))}}]),n}(v["Component"])},dc5b:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("970b"),r=n.n(a),c=n("5bc3"),o=n.n(c),i=n("ed6d"),l=n.n(i),u=n("6b58"),s=n.n(u),f=n("36c6"),p=n.n(f),v=n("ab5b"),d=n.n(v);function m(e){var t=h();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return s()(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){l()(n,e);var t=m(n);function n(e){var a;return r()(this,n),a=t.call(this,e),a.setDevData=function(e){var t=e.target.value;a.setState({value:t})},a.state={value:a.props.defVal||""},a}return o()(n,[{key:"componentDidUpdate",value:function(){var e=this.state.value,t=this.props,n=t.defVal,a=t.focusHandler;a&&e!=n&&this.setState({value:n})}},{key:"createField",value:function(){var e=this,t=this.state.value,n=this.props,a=n.extClass,r=n.inpType,c=n.prompt,o=n.blurHandler,i=n.focusHandler;return d.a.createElement("input",{className:"f-text".concat(a||""),type:r||"text",placeholder:c||"",onChange:function(t){return e.setDevData(t)},onBlur:function(){return!!o&&o(t)},onFocus:function(e){i&&i(e)},value:t||""})}},{key:"render",value:function(){var e=this.props.valid,t=void 0===e||e;return d.a.createElement(d.a.Fragment,null,t?this.createField():d.a.createElement("div",{className:"err"},this.createField(),d.a.createElement("svg",{width:"15",height:"18"},d.a.createElement("use",{xlinkHref:"#error"}))))}}]),n}(v["Component"])},ed12:function(e,t,n){"use strict";n.r(t);var a=n("ab5b"),r=n.n(a),c=n("8bc8"),o=n.n(c),i=n("74e1");document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#root");o.a.render(r.a.createElement(i["a"],null),e)}))},f242:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("0c6e");function r(e){var t=function(e){return!!e.newToken&&(10*Math.random()).toString().slice(2)};Object(a["b"])({models:{d:a["a"]},routes:function(){this.get("/api".concat(e),(function(e){return e.d.all()})),this.post("/api".concat(e),(function(e,n){var a=JSON.parse(n.sendArguments[0]),r=t(a),c=JSON.parse(n.requestBody);return r&&(c.token=r),e.ds.create(c)}))}})}}});